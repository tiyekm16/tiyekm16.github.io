var sas=sas||{};!function(){if("undefined"!=typeof inDapIF&&inDapIF)var t=(window.parent.document,window.parent);else var t=(document,window);sas.viewability=sas.viewability||{};var e,n=100,i=!1,o=[],r=50,a=1,l=!0,s=function(){},u={HIDDEN:1,SEMI_VISIBLE:2,VISIBLE:3};sas.events.addEvent(t,"focus",function(){l=!0}),sas.events.addEvent(t,"blur",function(){l=!1});var c={NOT_IN_IFRAME:1,FRIENDLY_IFRAME:2,CROSS_DOMAIN_IFRAME:3,WRONG_SIZE:4},d=function(e){var n={status:c.NOT_IN_IFRAME,element:e};if("undefined"!=typeof inDapIF&&inDapIF){n.status=c.FRIENDLY_IFRAME;try{for(var i=e,o=t;null!=o&&o.top!=o.self;){if(m(o.frameElement)<m(i)){n.status=c.WRONG_SIZE;break}i=o.frameElement,o=o.parent}n.element=i}catch(r){n.status=c.CROSS_DOMAIN_IFRAME}}return n};sas.viewability.register=function(l,u,I){if(null!=l&&null!=u){I=I||{},I.duration=I.duration||a,I.area=I.area||r,I.triggerOnce=null!=I.triggerOnce?I.triggerOnce:!0,I.onHidden=I.onHidden||s,I.onSemiVisible=I.onSemiVisible||s,I.onVisible=I.onVisible||s,I.onError=I.onError||s;var m=d(l);if(m.status==c.CROSS_DOMAIN_IFRAME||c.status==c.WRONG_SIZE)return void I.onError();l=m.element,o.push({element:l,callback:u,options:I,tick:0,requiredTick:Math.round(1e3*I.duration/n)+1}),i||(i=!0,e=t.setInterval(function(){for(var t=0;t<o.length;t++)f(o[t])},n))}};var f=function(t){if(!t.disabled){var e=I(t);switch(e){case u.HIDDEN:t.tick=0,t.state!=e&&t.options.onHidden(t.element);break;case u.SEMI_VISIBLE:t.tick=0,t.state!=e&&t.options.onSemiVisible(t.element);break;case u.VISIBLE:t.tick++,t.state!=e&&t.options.onVisible(t.element);break;default:return}t.state=e,t.tick==t.requiredTick&&(t.callback(),t.tick=0,t.options.triggerOnce&&(t.disabled=!0))}},I=function(t){if(!l)return u.HIDDEN;var e=g(t.element);return e>=t.options.area?u.VISIBLE:0>=e?u.HIDDEN:u.SEMI_VISIBLE},m=function(t){var e=t.getBoundingClientRect();return(e.right-e.left)*(e.bottom-e.top)},g=function(t){var e=t.ownerDocument,n=e.defaultView||e.parentWindow,i=null!=n.innerWidth?n.innerWidth:e.documentElement.clientWidth,o=null!=n.innerHeight?n.innerHeight:e.documentElement.clientHeight,r=E(t),a=(r.right-r.left)*(r.bottom-r.top);if(0==a)return 0;var l=Math.max(0,Math.min(r.bottom,o)-Math.max(0,r.top)),s=Math.max(0,Math.min(r.right,i)-Math.max(0,r.left));return Math.round(l*s*100/a)},E=function(e){var n,i,o,r,a=!1;if(n=e.getBoundingClientRect().left,i=e.getBoundingClientRect().right,t.getComputedStyle)if("absolute"===getComputedStyle(e).position){o=0;var l=e;if(l.offsetParent)do"fixed"===getComputedStyle(l).position&&(a=!0),o+=l.offsetTop,l=l.offsetParent;while(l);a||(o=o-t.scrollY||0),r=o+e.clientHeight}else o=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;else o=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;return{top:o,left:n,right:i,bottom:r}}}();